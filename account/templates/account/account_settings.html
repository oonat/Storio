{% extends 'stories/base.html' %}
{% load static %}

{% block head %}

<title>Account Details | Storio</title>

{% endblock %}





{% block content %}
  
  <div class="col-12 col-md-8 offset-md-2">

  <div class="d-flex align-items-center p-3 my-3 text-white-50 rounded shadow-sm mt-5" style="background-color: #6f42c1">
    <svg width="48" height="48" viewBox="0 0 16 16" class="bi bi-person mr-3" fill="white" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" d="M13 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM3.022 13h9.956a.274.274 0 0 0 .014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 0 0 .022.004zm9.974.056v-.002.002zM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
    </svg>
    <div class="lh-100">
      <h5 class="mb-0 text-white lh-100">Account Details</h5>
    </div>
  </div>
  
  <form class="form mt-4" method="post">{% csrf_token %}

  <div class="shadow p-4 mb-5 bg-white rounded">
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputEmail">Email adress</label>
      <input type="email" name="email" id="inputEmail" class="form-control" placeholder="Email address" maxlength="60" required autofocus value="{{account_form.initial.email}}">
    </div>
    <div class="form-group col-md-6">
      <label for="inputUsername">Username</label>
      <input type="text" name="username" id="inputUsername" class="form-control" placeholder="Username" maxlength="30" required
      value="{{account_form.initial.username}}">
    </div>
  </div>

  <div class="form-row mt-3">
    <div class="form-group col-md-6">
      <label for="inputInterests">Interests</label>
      <input type="text" name="interests" id="inputInterests" class="form-control" maxlength="300" placeholder="music, harry potter, storio..."
      value="{{account_form.initial.interests}}">
    </div>
    <div class="form-group col-md-6">
      <label for="inputBio">Bio</label>
      <textarea class="form-control" name="bio" id="inputBio" rows="10" maxlength="600" autofocus>{{account_form.initial.bio}}</textarea>
    </div>
  </div>
  </div><!-- shadow p-3 mb-5 bg-white rounded -->


  {% for field in account_form %}
      <p>
        {% for error in field.errors %}
          <p style="color: red">{{ error }}</p>
        {% endfor %}
      </p>
  {% endfor %}

  {% if account_form.non_field_errors %}
    <div style="color: red">
      <p>{{account_form.non_field_errors}}</p>
    </div>
      
  {% endif %}

  {% if success_message %}
    <p style="color:green; text-align: center;">{{success_message}}</p>
  {% endif  %}

  <button class="btn btn-lg btn-primary btn-block mt-4" type="submit">Save changes</button>

</form>

<div class="d-flex flex-column mt-3 mb-5">
  <a class="m-auto" href="{% url 'password_change' %}">Change password</a>
</div>

</div><!-- col-12 col-md-8 offset-md-2 -->

{% endblock %}
