{% extends 'stories/base.html' %}
{% load static %}
{% load humanize %}

{% block head %}

<title>{{ story.title }} | Storio</title>

<link href="https://fonts.googleapis.com/css2?family=Marck+Script&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="{% static 'css/story_css/entry.css' %}">

<!-- because of the template tag do not insert into css file -->
<style>
.jumbotron{
background: url("{% static ""%}parallax/{{ story.genre }}_parallax.png");
background-repeat: no-repeat;
background-attachment: fixed;
color:white !important;
height:200px;
word-wrap: break-word;
}
</style>

{% endblock %}


{% block parallax %}
<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-4">{{ story.title }}</h1>
  </div>
</div>
{% endblock %}
  

{% block content %}

<div class="row">

<div class="col-12 col-md-8 mb-3">
    <div class="card text-center mb-5">
      	<div class="card-body">
        	<h4 class="card-text">{{ entry.text }}</p>
      	</div>
      	<div class="card-footer text-muted">
          	{{ entry.text | length }} / 500
         </div> <!-- card footer -->
	</div><!-- cart text center -->


	<h4>Comments</h4>
	<hr>

</div><!-- col-12 col-md-8 mb-3 -->


<div class="col-12 col-md-4">
	<ul class="list-group list-group-flush">
  		<li class="list-group-item"><span class="badge badge-dark mr-1">User: </span> {{ entry.author.username }}</li>
      <li class="list-group-item"><span class="badge badge-dark mr-1">Story: </span> <a href="{% url 'stories:story_detail' entry.story.slug %}" title="{{ entry.story.title }}">{{ entry.story.title }}</a></li>
  		<li class="list-group-item"><span class="badge badge-dark mr-1">Published date: </span> {{ entry.published_date | naturaltime }}</li>
  		<li class="list-group-item"><span class="badge badge-dark mr-1">Contribution: </span> {{contribution_percentage}}%</li>
  		<li class="list-group-item"><span class="badge badge-dark mr-1">Karma: </span> +2</li>

  		<li class="list-group-item text-center">
			<div class="btn-group" role="group">
				<button type="button" class="btn btn-outline-primary btn-sm">
					<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/></svg> <span class="badge badge-light">4</span>
      			</button>
				<button type="button" class="btn btn-outline-primary btn-sm">
					<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg> <span class="badge badge-light">2</span>
      			</button>
    		</div>
		</li>
		
	</ul>

<div class="card bg-light mt-3 mb-5">
  <div class="card-header">Notes</div>
  <div class="card-body">
    <p>{{ entry.notes }}</p>
  </div>
</div>

</div><!-- col-12 col-md-4 -->
</div><!-- row -->

{% endblock %}